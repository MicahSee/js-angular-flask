<head>
  <script src="http://code.jquery.com/jquery-3.3.1.js"></script>
</head>

<body>
  <form method="post">
    <input type="text" placeholder="New Password"/>
    <input type="submit" />
  </form>
  <script>
  $('form').submit(function(event) {
    event.preventDefault();
    post_data = {"new_password": $("form :input[type='text']").val(), 'user_id':location.pathname[1:]};
    console.log(post_data);
    $.ajax({
      method: 'POST',
      url: '/api/v1/form',
      data: JSON.stringify(post_data),
      contentType: 'application/json',
      complete: function(responseObject) {
        window.location = responseObject.responseText
      }
    })
  })
  </script>
</body>
